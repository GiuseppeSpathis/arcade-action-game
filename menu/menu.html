<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Retro Arcade - Menu</title>
        <link rel="stylesheet" href="menu.css" />
        <link
            rel="icon"
            type="image/png"
            href="../assets/images/favicon-invader.png"
            sizes="32x32"
        />
    </head>
    <body>
        <div class="audio-controls">
            <button
                id="musicToggle"
                class="audio-toggle-button"
                type="button"
                aria-label="Disable audio"
                aria-pressed="false"
            ></button>
            <span
                id="musicVolumeSliderContainer"
                class="audio-slider-container"
            ></span>
        </div>

        <div class="menu-panel">
            <h1>Retro Arcade</h1>

            <div id="mainMenuButtons">
                <button id="playButton" class="play-button">Play</button>
                <button
                    id="tutorialButton"
                    class="play-button secondary-button"
                >
                    Tutorial
                </button>
            </div>

            <div id="gameModeContainer" class="game-mode-container hidden">
                <button id="player1Button" class="play-button mode-button">
                    1 Player
                </button>
                <button id="player2Button" class="play-button mode-button">
                    2 Players
                </button>
                <button id="player3Button" class="play-button mode-button">
                    3 Players
                </button>
                <button id="player4Button" class="play-button mode-button">
                    4 Players
                </button>

                <button
                    id="backToMenuButton"
                    class="play-button secondary-button mode-button"
                >
                    Back
                </button>
            </div>
        </div>

        <div id="tutorialOverlay" class="tutorial-overlay hidden">
            <div class="tutorial-content">
                <h2>How to Play</h2>
                <p class="tutorial-goal">
                    <strong>Goal:</strong> Survive as long as possible to reach
                    higher levels! When you complete a level, you gain a
                    power-up. Keep an eye on your remaining lives (hearts) in
                    the top-left corner and the current level in the
                    bottom-left. Beware, as levels progress, enemies become more
                    challenging!
                </p>

                <div class="tutorial-image-container">
                    <img
                        src="https://github.com/user-attachments/assets/dd176603-bfdf-450f-aef2-17f10ac50e42"
                        alt="tutorial1"
                    />
                </div>

                <h4>Single Player (Player 1)</h4>
                <ul>
                    <li><strong>Move:</strong> A / D keys</li>
                    <li>
                        <strong>Jump:</strong> Spacebar / W key (you can even do
                        the wall jump)
                    </li>
                    <li>
                        <strong>Shoot:</strong> Arrow Keys (Up, Down, Left,
                        Right)
                    </li>
                </ul>

                <h4>Multiplayer (Players 2-4)</h4>
                <ol>
                    <li>
                        <strong>Host Setup (Laptop)</strong>
                        <ul>
                            <li>
                                From the main menu, select "2 Players", "3
                                Players", or "4 Players".
                            </li>
                            <li>
                                A lobby screen will appear, showing a 4-letter
                                Room Code.
                            </li>
                        </ul>
                    </li>
                    <li>
                        <strong>Player Setup (Smartphone)</strong>
                        <ul>
                            <li>
                                On your phone, open your phone's web browser and
                                navigate to:<br />
                                <a
                                    href="https://giuseppespathis.github.io/arcade-action-game/scenario/controller/phoneController.html"
                                    target="_blank"
                                    style="color: #ff4df6"
                                    >https://giuseppespathis.github.io/arcade-action-game/scenario/controller/phoneController.html</a
                                >
                            </li>
                            <li>
                                Enter the 4-letter Room Code from the laptop
                                screen and select your player slot (P2, P3, or
                                P4) and then press Connect.
                            </li>
                        </ul>
                    </li>
                </ol>

                <div class="tutorial-image-container">
                    <img
                        src="https://github.com/user-attachments/assets/1287b393-764e-4544-b9ef-311a790c62d5"
                        alt="Phone Connection Screen"
                    />
                </div>

                <p>
                    Once all players are connected, the game will start
                    automatically. Use the on-screen D-pads for moving and
                    shooting and the "JUMP" button to jump.
                </p>
                <div class="tutorial-image-container">
                    <img
                        src="https://github.com/user-attachments/assets/46cebd84-87f7-4789-96d3-68f436ce03d6"
                        alt="gameplay with 2 players"
                    />
                </div>

                <div class="tutorial-actions">
                    <button id="closeTutorialButton" class="play-button">
                        Back to Menu
                    </button>
                </div>
            </div>
        </div>

        <audio
            id="bg_music"
            class="audio"
            autoplay
            controls
            loop
            style="display: none"
        >
            <source src="../assets/musics/menu.mp3" type="audio/mp3" />
            Your browser does not support the audio element.
        </audio>
        <script type="module" src="menu.js"></script>
    </body>
</html>
