<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Retro Arcade - Game</title>
        <link rel="stylesheet" href="scenario.css" />
    </head>
    <body>
        <div class="audio-controls">
            <button
                id="musicToggle"
                class="audio-toggle-button"
                type="button"
                aria-label="Disable audio"
                aria-pressed="false"
            ></button>
            <span
                id="musicVolumeSliderContainer"
                class="audio-slider-container"
            ></span>
        </div>

        <div id="hudContainer" class="hud"></div>

        <div id="roomCodeDisplay" class="room-code-display hidden">
            <span class="room-code-label">ROOM:</span>
            <span id="roomCodeText" class="room-code-text">ABCD</span>
        </div>

        <div class="game-wrapper">
            <canvas id="gameCanvas"></canvas>
        </div>

        <div id="connectionOverlay" class="connection-overlay hidden">
            <h1 class="connection-title">LOBBY</h1>
            <div class="connection-instructions">
                Visit URL on phone or laptop:<br />
                <span id="connectionUrl" class="connection-url">...</span>
            </div>
            
            <div class="room-code-display" style="position: relative; top: auto; left: auto; margin: 2rem 0; transform: scale(1.5);">
                <span class="room-code-label">CODE:</span>
                <span id="lobbyRoomCode" class="room-code-text">...</span>
            </div>

            <div id="playerConnectionContainer" class="player-connection-container">
                </div>

            <button id="lobbyBackButton" class="play-button secondary-button" style="margin-top: 3rem;">
                Back to Menu
            </button>
        </div>

        <div id="upgradeOverlay" class="upgrade-overlay hidden">
            <h1 class="upgrade-title">LEVEL UP!</h1>
            <p id="currentPlayerPrompt" class="player-prompt">
                Player 1, choose your upgrade:
            </p>
            <div id="powerUpContainer" class="power-up-container">
                </div>
        </div>

        <button
            id="returnMenuButton"
            class="game-over-button hidden"
            type="button"
        >
            Return to Menu
        </button>

        <audio
            id="bg_music"
            class="audio"
            autoplay
            loop
            style="display: none"
        >
            <source src="../assets/musics/scenario.mp3" type="audio/mp3" />
        </audio>
        <audio id="sfx_gameover" style="display: none">
            <source src="../assets/musics/gameOver.wav" type="audio/wav" />
        </audio>
        <audio id="sfx_hit" style="display: none">
            <source src="../assets/musics/hit.mp3" type="audio/mpeg" />
        </audio>
        <audio id="sfx_shoot" style="display: none">
            <source src="../assets/musics/pistol-shot.mp3" type="audio/mpeg" />
        </audio>
        <audio id="sfx_jump" style="display: none">
            <source src="../assets/musics/jump.wav" type="audio/wav" />
        </audio>

        <script type="module" src="scenario.js"></script>
    </body>
</html>